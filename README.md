# 消息转发：使用手册

在使用之前，先了解些此转发的原理

### 通信流程：

````text
获取频道uuid -> 向频道发送初始信息 -> 实现消息转发
````

1. 获取uuid：在项目的/channel/get下**获取uuid**，需要传入一个参数  
   `.../get?name=频道名`传入一个频道名，获取或创建一个频道

2. 此时你已经可以连接到此WebSocket中，在你进入socket中你是不能接受消息的  
   虽然进入了，但是socket并不知道你是属于哪个频道，发送一个初始化消息来告诉系统，  
   属于哪个频道。

3. 将要发送的消息传入message字段中，实现消息转发

### 消息结构：

发送消息时的结构

```json
{
  "uuid": "获取的UUID",
  "name": "频道名",
  "message": "消息"
}
```

### 支持GZIP格式

将消息结构压缩为GZIP格式，返回GZIP格式的数据

### 程序实参配置

支持历史记录功能，如果新会话进入将历史记录发送至新会话

> 默认不开启历史记录，使用程序实参`--history=true`进行开启